<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FAQ - GCPIntellect</title>
    <meta name="description" content="Perguntas Frequentes sobre o sistema de chamados."> 
    <link rel="icon" href="https://raw.githubusercontent.com/GCPIntellect/Projeto/refs/heads/main/Documenta%C3%A7%C3%A3o/img/Imagem%20Logo.png">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/feather-icons"></script>
</head>
<body>
    <div class="app-container">
        <aside class="sidebar" role="navigation">
            <div class="sidebar-header">
                <h2><i data-feather="box"></i> GCPIntellect</h2>
            </div>
            <nav class="sidebar-nav" id="sidebar-nav">
                <ul><li><a href="#"><i data-feather="loader"></i> Carregando...</a></li></ul>
            </nav>
            <footer class="sidebar-footer">
                <div class="user-profile">
                    <div class="avatar" id="user-avatar">...</div>
                    <div class="user-info">
                        <p id="user-name">Carregando...</p>
                        <span id="user-role">...</span>
                    </div>
                </div>
            </footer>
        </aside>

        <main class="main-content" role="main">
            <button class="menu-toggle" aria-label="Abrir menu"><i data-feather="menu"></i></button>
            <header class="main-header">
                <h1>FAQ - Perguntas Frequentes</h1>
            </header>
            
            <section class="card faq-search-card">
                <div class="form-group">
                    <label for="faq-search-input">Como podemos ajudar?</label>
                    <div class="faq-search-bar">
                        <i data-feather="search"></i>
                        <input type="text" id="faq-search-input" placeholder="Digite para filtrar perguntas (ex: senha, impressora...)">
                    </div>
                </div>
            </section>

            <section class="card">
                <div class="faq-actions">
                    <button id="faq-toggle-all" class="btn-link">Expandir Tudo</button>
                </div>
                <h2 class="form-section-title" style="margin-top: 0;">Dúvidas Comuns</h2>
                
                <div class="faq-container" id="faq-list">
                    
                    <details class="faq-item">
                        <summary>
                            <i data-feather="chevron-right" class="faq-icon"></i>
                            <span>Como eu abro um novo chamado?</span>
                        </summary>
                        <p>No seu Dashboard, clique no botão "Abrir Chamado" no canto superior direito. Preencha o formulário com o máximo de detalhes possível, incluindo o assunto, a descrição do problema, o tipo e a categoria. Se possível, anexe capturas de tela ou logs.</p>
                    </details>

                    <details class="faq-item">
                        <summary>
                            <i data-feather="chevron-right" class="faq-icon"></i>
                            <span>Como redefino minha senha?</span>
                        </summary>
                        <p>Na tela de login, clique no link "Esqueceu sua senha?". Você precisará informar seu login ou e-mail cadastrado. Uma notificação será enviada aos administradores do sistema, que entrarão em contato para fornecer uma senha temporária.</p>
                    </details>

                    <details class="faq-item">
                        <summary>
                            <i data-feather="chevron-right" class="faq-icon"></i>
                            <span>Onde eu vejo os chamados que eu abri?</span>
                        </summary>
                        <p>Todos os chamados que você abriu estão listados na sua tela principal, o Dashboard. Se você for um Técnico ou Administrador, esta tela mostrará todos os chamados da empresa (ou os que lhe foram atribuídos).</p>
                    </details>

                    <details class="faq-item">
                        <summary>
                            <i data-feather="chevron-right" class="faq-icon"></i>
                            <span>Como adiciono uma nova informação ao meu chamado?</span>
                        </summary>
                        <p>Clique no ícone de "Ver" (o olho) ao lado do chamado no seu Dashboard. Na página de detalhes, role para baixo até a seção "Adicionar Acompanhamento (Chat)". Digite sua mensagem e clique em "Enviar Mensagem".</p>
                    </details>

                    <details class="faq-item">
                        <summary>
                            <i data-feather="chevron-right" class="faq-icon"></i>
                            <span>Qual a diferença entre "Incidente" e "Requisição"?</span>
                        </summary>
                        <p><strong>Incidente:</strong> Refere-se a algo que estava funcionando e parou de funcionar (ex: "impressora quebrada", "sistema fora do ar", "não consigo logar").</p>
                        <p style="border-top: none; padding-top: 0;"><strong>Requisição (Solicitação):</strong> Refere-se a um novo pedido (ex: "instalar um novo software", "criar um novo usuário", "solicitar um novo mouse").</p>
                    </details>
                    
                    <p id="faq-no-results" class="text-muted" style="display: none; text-align: center; padding: 1rem;">
                        Nenhum resultado encontrado.
                    </p>

                </div>
            </section>
        </main>
    </div>
    
    <script src="layout.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.getElementById('faq-search-input');
            const faqList = document.getElementById('faq-list');
            const faqItems = faqList.querySelectorAll('.faq-item');
            const noResultsMsg = document.getElementById('faq-no-results');

            // Lógica da Busca
            if (searchInput) {
                searchInput.addEventListener('keyup', () => {
                    const searchTerm = searchInput.value.toLowerCase().trim();
                    let itemsFound = 0;

                    faqItems.forEach(item => {
                        const summaryText = item.querySelector('summary').textContent.toLowerCase();
                        const pText = Array.from(item.querySelectorAll('p')).map(p => p.textContent.toLowerCase()).join(' ');
                        
                        const isMatch = summaryText.includes(searchTerm) || pText.includes(searchTerm);
                        
                        item.hidden = !isMatch;
                        
                        if(isMatch) {
                            itemsFound++;
                        }
                    });

                    noResultsMsg.style.display = (itemsFound === 0) ? 'block' : 'none';
                });
            }
            
            // Lógica para "Expandir/Recolher Tudo"
            const toggleBtn = document.getElementById('faq-toggle-all');
            let isAllExpanded = false;

            if (toggleBtn) {
                toggleBtn.addEventListener('click', () => {
                    isAllExpanded = !isAllExpanded; // Inverte o estado
                    faqItems.forEach(item => {
                        // Só mexe nos itens que não estão escondidos pela busca
                        if (!item.hidden) {
                            item.open = isAllExpanded;
                        }
                    });
                    toggleBtn.textContent = isAllExpanded ? 'Recolher Tudo' : 'Expandir Tudo';
                });
            }
            
            // Renderiza os ícones do Feather APÓS o layout.js
            feather.replace();
        });
    </script>
</body>
</html>